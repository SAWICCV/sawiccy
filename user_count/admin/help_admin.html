<html>
<head>
<title>Информер 2.0 Описание</title>

<style>
p {
	   font-family:serif;
	   font-size:11pt;
   }

h2 {
	  margin-top:10pt;
	  margin-bottom:7pt;
	  font-family:serif;
	  color:#408080
   }

h3  {
	       margin-bottom: 3pt;
	       margin-top:-1pt;
	       font-family:serif;
	       color:#000000

           }

 h4  {
	       margin-bottom:2pt;
	       margin-top:4pt;
	       font-family:serif;
	       color:#000000

           }

 h5  {
	       margin-bottom:1pt;
	       margin-top:5pt;
	       font-family:serif;
	       color:#005CB9

           }
A:Link,A:Visited,A:Active {
	                        Color: #0080C0; Text-decoration: none
	                      }
A:Hover{
Color: #0080C0; Text-decoration: underline
        }
</style>

</head>
<body>

 <table align=center border=0 cellpadding=0>



 <tr><td>




          <a name="detect"><h4>Узнавание</h4></a>
        <p align="justify">
       Этот раздел поможет разобраться, как обучить скрипт узнавать новые браузеры, боты и операционные системы, а так же
       как защититься от нежелательных посетителей. Прочтите его, если хотите вести активное администрирование вашего
       ресурса.
       <h5> Какие посетители бывают на вашем сайте?</h5>
       <p align="justify">
       Прежде всего обычные посетители, которые, пользуясь своим браузером, просматривают его содержимое.<br>
       Затем различные программы, сканирующие страницы с разными целями: пауки поисковых систем, качалки сайтов для
       offline браузеров, собиратели ссылок и e-mail-адресов и пр.<br>
       Роботы-поисковики работают во благо, другие же программы едят трафик и засоряют статистику. Поэтому в скрипте
       есть <b>функция блокирования нежелательных посетителей</b>. Об этой функции читайте в разделе
        "Нежелательные агенты".

        <h5>Как происходит  процесс "узнавания" посетителя?</h5>
        <p align="justify">
        При соединении с сервером браузер или другая программа
        отправляют некую информацию в составе т.н. заголовка. Этот заголовок называется User Agent. При анализе этого
        заголовка можно выяснить тип браузера, операционную систему, языковые предпочтения. Некоторые боты в заголовок
        помещают адреса своих сайтов.<br>
        Собственно у каждой операционной системы, браузера и почти у каждой сканирующей программы есть
        свой идентификатор, по которому и можно определить, кто пришёл на сайт. <br>
        Пример: заголовок <i>Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1) </i> Здесь есть два общепринятых
        идентификатора- <i>MSIE 6.0</i> и  <i>Windows NT 5.1</i>
        По этому заголовку можно сказать, что ваш ресурс посетил пользователь и браузером <i>Internet Explorer 6.0</i>
        и операционной системой <i>Windows XP</i>.<br>
        Ещё пример: заголовок <i>Mozilla/5.0 (Windows; U; Windows NT 5.1; ru; rv:1.8.1.3)
        Gecko/20070309 Firefox/2.0.0.3 </i> Выделяем идентификаторы: <i>Firefox/2.0.0.3</i> и <i>Windows NT 5.1</i><br>
        Операционная система <i>Windows ХР</i>, браузер <i>Firefox 2.0.0.3</i><br>
        А вот другой пример-<i>msnbot/1.0 (+http://search.msn.com/msnbot.htm) </i> Ну и какая же операционная система
        здесь? или браузер? Нету. Потому что это вообще не человек, а робот поисковой системы
         <a href="http://search.msn.com">http://search.msn.com</a> Его идентификатор <i>msnbot/1.0</i> И так далее
         <h5>А откуда же я узнаю все эти идентификаторы?</h5>
         Законный вопрос. Для этого (и не только) в скрипте предусмотрено представление текущей статистики в виде лога.
         Т.е. только дата и время, IP и User Agent. Просматривайте лог, сравнивайте со записями текущей статистики
         и проблем с определением идентификаторов не будет. Скоро незнакомые идентификаторы начнут бросаться в глаза.
         Но об анализе в разделе "Текущая статистика-> Лог".<br>
         Нужно учесть, что User Agent можно подделать.

         <a name="options"><h4>Настройки информера</h4></a>
        <p align="justify">
         <b>Надписей</b> всего четыре: заголовок и подписи к показателям статистики. Если вы не хотите
         отображения надписей, оставьте соответствующие окошки пустыми.
         Варианта с одними цифрами без подписей можно добиться, вписав в соответствующее окошко только
         <font color=#0080FF>0 </font> (нуль).<br> Во время выполнения скрипт подставит вместо нуля нужное
         значение.
          <font color=#0080FF> 0 </font> (нуль) указывает место статистического значения в вашей надписи.
         Например, вписываем в окно <i>Сегодня 0 посетителей на сайте</i>. На информере будет
         <i>Сегодня 25 посетителей на сайте</i><br>Ещё вариант-нуль не ставить вообще, а вписать произвольную
         информацию или символы для украшения баннера. В принципе вы вообще можете сделать блок с произвольным
         содержимым, состоящим из картинок и всего одной строки, причём эту строку можно форматировать с помощью html-
         тегов.
         Важная настройка <b>"Время неактивности"</b>. Это то время, которое посетитель вашего сайта себя не проявляет.
         Если он не подаёт признаков жизни за это время, то считается ушедшим с сайта.
         А проявить он может себя тогда, когда загружает очередную  страницу с кодом.<br>
         Проще говоря это время, за которое посетитель не загрузил ни одной страницы, как только он загружает
         страницу, данные обновляются и пользователь опять считается присутствующим на сайте в данный момент.
         <br>Далее возможны варианты: либо посетитель сидит дольше установленного времени на одой странице и
         скрипт, не получая от него сигналов, считает его ушедшим, либо начинает скакать со странички на страничку
         и, просмотрев всё за 3 минуты, уходит с сайта (а время вы установили 30 мин) значит 27 минут он будет
         считаться на сайте, а это не так.<br>
         Время устанавливайте в зависимости от  содержимого вашего сайта. Если он рекламного или презентационного
         характера, 5-10 минут хватит. Если на ваших страницах прайсы, статьи и вообще материалы, требующие длительного
         изучения, тогда можно выставить и 20 и 25 минут. В общем рассчитывайте так: сколько времени пользователь
         теоретически может просматривать страничку не уходя и не отключаясь, чтобы просмотреть её offline<br>
         Однако не увлекайтесь и помните, что более 25-30 мин. пользователь вряд ли будет вглядываться в одну
         страницу.<br>
         Остальные настройки вполне понятны. Управляйте ими, ориентируясь на внешний вид информера в панели управления.
         Картинки для информера расположены в папке admin/img с именами us1.png-us12.png. Вы можете их заменить на свои.


          <a name="stat1"><h4>Текущая статистика</h4></a>
          Здесь отображается статистика за один какой-либо день. По умолчанию сегодняшний.
          Доступна в трёх представлениях. Переключение между представлениями осуществляется списком слева от даты.
        <h5>Таблица </h5>
        <p align="justify">
        Табличное представление посещений. Каждая строка-это одно уникальное посещение.<br>
        Фиксируются время посещения- вход на сайт и загрузка последней страницы, ip посетителя,
        ссылающийся сайт (с которого пришёл посетитель, если он просто набрал в браузере ваш адрес или вошёл через
        избранное, в этой графе отображается "Закладка"), браузер, операционная система и просмотренные страницы.<br>
        Если в графах браузера и операционной системы отображается "Неизвестно"-скорее всего посетитель
        вообще не оставил заголовка (такое бывает. Скорее всего это какая-то сканирующая программа).
        Может неизвестен или браузер или OS или отображено только название без версии (Windows Opera и т.д.)
        Во всех таких случаях можно, заметив время посещения и ip, обратиться к логу и проанализировать строку User Agent
        <br>Если в процессе анализа вы обнаружили идентификатор новой версии браузера -обучите ему программу (об обучении
        ниже).

        <h5>Сводка </h5>
        <p align="justify">
         Это несколько таблиц,  в которых отображаются уникальные значения:<br>
         - ip<br>
         - браузеров<br>
         - операционных систем<br>
         - запросов поисковых систем (т.е. когда посетитель пришёл по запросу с поисковика)<br>
         - сканирующих программ<br>
         - ключевых слов (т.е. что набрал посетитель в строке поисковой системы, чтобы получить ссылку на ваш ресурс)<br>
         - ссылающихся сайтов (это те сайты, с которых к вам пришли)<br>
         - просмотренных страниц<br>
          с количеством их повторов.<br>
          Выводится 10 наиболее повторяющихся показателей, остальное можно посмотреть,
          щёлкнув по надписи "Полный список".<br>
          Если щёлкнуть на ip, откроется окно с полным отчётом посещений с этого адреса.
          Если нажать кнопку "Найти провайдера", можно получить данные о провайдере интернет-службы, через которую
          данный пользователь вышел в интернет.<br>
          Стоит обратить внимание на ссылающиеся сайты. Чем более известен ваш ресурс, тем больше в этом списке будут
          появляться заокеанские сайты типа: http://columbialedicasino.com или http://viagra-terapia.net
          Вы наверное будете по началу заходить на эти сайты и упорно искать ссылку на свой ресурс, попутно радуясь, что
          с такого коммерческого монстра к вам кто-то пришёл. Ну чтож, на то и рассчитано. Конечно никакой ссылки нет.
          Это просто реклама. Выше говорилось о подделке заголовка User Agent. Вот это как раз такой случай. <br>
          Со временем ваш сайт зарастёт такими ссылками. Что с того? Ну во-первых они отнимают трафик, во-вторых засоряют
          статистику, да и вообще чаще всего они мерзость рекламируют. Я за чистый интернет, поэтому снабдил свой скрипт
          <i>механизмом запрета доступа нежелательным посетителям.</i> Запретить просмотр можно какой либо программе, ip,
          с какого-то ресурса и выполнить над нежелательным объектом  три вида действий. Но об этом в разделе
          "Нежелательные агенты".
          <h5>Лог </h5>
          <p align="justify">
          Это таблица, где каждая строка-одно посещение. Отображается время посещения, ip, User Agent. <br>
          Щелчок по ip, как и в других разделах, даст нам полную информацию о посещениях сайта с этого адреса.<br>
          Полезен анализ строки User Agent, когда данные о посещении неудовлетворительные (нет версии браузера и OS или они
          вообще неизвестны.<br>Здесь же предусмотрен <b>механизм обучения</b> скрипта узнавать новые версии браузеров,
          операционных систем, сканирующих программ.<br> Предположим, в одном посещении в столбце <b>OS</b> (операционная система)
          вы видите надпись "Windows", в столбце <b>Браузер</b> "MS Internet Explorer". Обратите внимание, что всё без версий.<br>
          Попробуем узнать версию операционной системы и браузера, обратившись к логу. Почему поробуем? Потому что
          посетитель может не оставить в логе этих данных.<br> Итак, заметим время посещения и ip посетителя. Теперь обратимся
          к логу. Ура. Видим <i>Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0; AIRF) </i><br>
          Два значащих идентификатора  <i>MSIE 5.5</i> и  <i>Windows NT 5.0</i> нам знакомы. Во всяком случае можно сказать,
          что <i>MSIE</i> принадлежит браузеру MS Internet Explorer (скорее всего 5.5, кстати так оно и есть), а
           <i>Windows NT 5.0</i> Windows. Открою тайну, что 2000. Ну а как это уточнить? Да просто набрать в yandex или
           любой другой поисковой системе этот идентификатор и получить ссылки на справочные материалы по идентификаторам,
           которые оставляют различные программы в строке User Agent.<br>
           Итак получили идентификаторы и их объекты. Теперь обучим скрипт различать их: введите в строке "Идентификатор"
           <i>MSIE 5.5</i>, в строке "Объект" <i>MS Internet Explorer 5.5</i>. Далее проследите, чтобы точка ниже заполненных
           строк указывала на "Браузер". Теперь жмте "Добавить" <br>Тоже самое повторите с Windows: идентификатор
           <i>Windows NT 5.0</i>  и объект Windows 2000 введите в соответствующие окна. Поставьте точку на "OS"<br>
           Теперь скрипт выучит эту операционную систему и браузер. <br>
           Учтите, что это только для примера. Эти программы скрипт как раз знает, а вот когда выйдет ОС SUPER VISTA и
           браузер IE 8.0, вот тут скрипт потребует обучения. Но есть пользователи, предпочитающие  не пользоваться
           продукцией Microsoft, и благодаря этим беспокойным людям вам придётся частенько пользоваться функцией
           обучения.<br>
           Ещё пример: в строке посещений <b>Неизвестны</b> ни браузер, ни операционная система. Тут два варианта.
           Посетитель не оставил строки User Agent и это была какая-то сканирующая программа. <br>
           Смотрим лог и видим, что в это время и с этого адреса пришёл некто и оставил строку
            <i>StackRambler/2.0 (MSIE incompatible)</i> Ну конечно вы опытным глазом сразу увидели идентификатор
            <i>StackRambler/2.0</i> и поняли, что это робот-поисковик системы Ремблер. Если сомнения есть-поищите в интернете.
            Нашли? Тогда обучим скрипт. В строке "Идентификатор" пишем <i>StackRambler/2.0</i>, в строке "Объект"-
            <i>Робот-поисковик Rambler</i>, ставим точку на "Бот" и нажимаем "Добавить".<br>
            Всё, что вы ввели сами, доступно в разделе "Узнаваемые агенты".





         <a name="stat2"><h4>Общая статистика</h4></a>
        <p align="justify">
        Предоставляет информацию по периодам: за месяц, за год, за всё время работы скрипта.<br>
          Это несколько таблиц,  в которых отображаются уникальные значения:<br>
         - ip<br>
         - браузеров<br>
         - операционных систем<br>
         - запросов поисковых систем (т.е. когда посетитель пришёл по запросу с поисковика)<br>
         - сканирующих программ<br>
         - ключевых слов (т.е. что набрал посетитель в строке поисковой системы, чтобы получить ссылку на ваш ресурс)<br>
         - ссылающихся сайтов (это те сайты, с которых к вам пришли)<br>
         - просмотренных страниц<br>
          с количеством их повторов.<br>
          Выводится 10 наиболее повторяющихся показателей, остальное можно посмотреть,
          щёлкнув по надписи "Полный список".<br>
          Если щёлкнуть на ip, откроется окно с полным отчётом посещений с этого адреса.
          Если нажать кнопку "Найти провайдера", можно получить данные о провайдере интернет-службы, через которую
          данный пользователь вышел в интернет.<br>


         <a name="agent"><h4>Узнаваемые агенты</h4></a>
        <p align="justify">
        Список программ, идентификаторы которых вы ввели для последующего узнавания их скриптом.
        Об обучении прочтите в разделе "Текущая статистика"-> "Лог"<br>
        С помощью выпадающего списка вы можете определить, идентификаторы какого типа программ вывести на страницу:
        браузеров, ботов, операционных систем или все. Здесь же вы можете удалить информацию о программе, если, напр.
        ошиблись при вводе. <br>
        Обратите внимание, что первый столбец "Тип" содержит тип идентификатора, т.е. какой программе он принадлежит:
        <b>browser</b>-браузеру, <b>os</b>-операционной системе,<b>bot</b>- какой-либо сканирующей программе, например
        роботу-поисковику. Рекомендуется после ввода очередного идентификатора зайти на эту страницу и проверить,
        не перепутали ли вы тип. Если вы, например, добавили новую версию Opera, а тип ей назначили bot, то скрипт
        узнавать её не будет!<br>
        <b>Кроме того, что вы ввели</b> скрипт умеет узнавать основные версии браузеров Opera, Firefox, IE,
        операционных систем от Win95 до Win Vista, Linux, Macintosh, боты основных поисковых систем.


         <a name="nonagent"><h4>Нежелательные агенты</h4></a>

        <h5>Объекты блокировки</h5>
        <p align="justify">
         Вы можете заблокировать нежелательного посетителя и не дать ему просмотреть страницы вашего ресурса.
         Блокировать можно отдельный ip, программу, которой пользуется посетитель, будь то браузер или операционная
         система (блок по идентификатору), а также по ссылающемуся сайту, если вы не хотите, чтобы на ваш ресурс
         переходили с какого либо сайта. <br>
         Учтите, что блокируя браузер (например IE 6.0) вы блокируете всех посетителей, имеющих этот же браузер.
         Тоже и с операционной системой. Так что применяйте точечные удары. <br>
         Итак, слева окошко, для ввода нежелательного посетителя. Под ним его тип: <b>ip</b>-выставляем, если хотим
         блокировать пользователя с таким ip, в окошко вводим ip -адрес;<br> <b>url</b>-блок с ссылающегося
         сайта- допустим вы не хотите пускать посетителей, переходящих к вам с некоторого сайта. Тогда ставьте точку
         на <b>url</b>, в строке "Нежелательный агент" введите адрес этого сайта;<br><b>идентификатор </b>-блок по
         программе- допустим, вы не хотите, чтобы вас посещал некто, пользующийся операционной системой Win ХР,
         тогда вписываем её идентификатор  <i>Windows NT 5.1</i>, ставим точку в позицию "идентификатор". Но, конечно, этот вид
          блокировки не предназначен для блокирования операционных систем или браузеров т.к. блокирование по Win ХР
         или IE 6.0 попросту лишит вас посетителей. Этот блок в основном предназначен для роботов. А они бывают разные:
         хорошие (например поисковых систем) и плохие (напимер работающие на спамеров или качалки сайтов).
         Итак, вы не хотите отдавать трафик качалке сайтов? Допустим к вам повадился некий робот с идентификатором
         <i>Teleport Pro/1.29</i>- не составит труда узнать, что это User Agent качалки сайтов. Вписывайте его
         идентификатор в строку и ставите точку на "идентификатор".<br>
         <h5>Типы блокировки</h5>
        <p align="justify">

        С нежелательным посетителем можно поступить по разному:
        <br>1. Отправить его обратно, т.е. на тот сайт, с которого он пришёл. Если он пришёл по прямому адресу-он
        будет наблюдать пустую страницу без всяких объяснений (что тоже забавно). Этот способ предусмотрен по
        умолчанию и в строку "Действия" вписывать ничего не надо.<br>
        2. Отправить его на какой-либо адрес- ставим точку "Отправить на адрес" и в строке "Действия" вписываем адрес
        сайта, куда нежелательный объект переместится через 5 секунд напряжённого ожидания.<br>
        3. Показать некую надпись на фоне пустой страницы- ставьте точку на "Показать надпись", в строке "Действие"
        указываете эту надпись (например <font color=red><b>Ну ты, приятель, и лох!!! </b></font>).
        Можете оформить её html.<br>
        Как только вы проделаете все это манипуляции, нажимайте "Добавить" и появится новая строка с нежелательным
        объектом. При этом внимательно посмотрите на графу "тип"-соответствует ли она этому объекту.<br>
        Если вы ошиблись, просто удалите и введите снова.


        <p><div align="center">
        &copy; Шестопалов Сергей МОСКВА 2007</div></p>

 </td></tr>
 </table>

</body>
</html>

